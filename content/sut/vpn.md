---
date: 2015-06-02T11:04:13+09:00
description: null
slug: null
tags: []
title: ローカルサーバへのテストとVPN接続
---

## VPN接続のご案内

### VPN接続の流れ

1. VPNに接続する
2. IPアドレスのご確認
3. ShouldBeeから接続できるかのご確認

### VPNに接続する

ShouldBeeのVPNに接続するための必要な設定は以下になります。

* VPNの種類: L2TP over IPsec
* VPNユーザ名: (個別にお伝えのもの)
* VPNパスワード: (個別にお伝えのもの)
* IPsec事前共有鍵(PSK: Pre-Shared Key): (個別にお伝えのもの)
* IPアドレス: (個別にお伝えのもの)

テスト対象となるサーバに対して設定し、VPNに接続した状態にします。

### IPアドレスのご確認

上記内容でVPNに接続できましたら、お伝えしてあるIPが割り当てられているかご確認ください。

```
$ ifconfig
ppp0: flags=8051<UP,POINTOPOINT,RUNNING,MULTICAST> mtu 1280
	inet 192.168.42.150 --> 192.168.42.1 netmask 0xffffff00
```

### ShouldBeeから接続できるかのご確認

最後に http://shouldbee.at にログインしていただき、ShouldBeeから接続できるかを確認してください。

確認方法は、「テストスクリプト新規作成」ページから、VPN接続確認用のテストスクリプトを作成し、そのテストが問題なく実行できるかを確認します。

テストスクリプト新規作成: https://shouldbee.at/project/scripts/new

![ShouldBee.png](https://qiita-image-store.s3.amazonaws.com/207/889/62a16fc5-db45-74d4-55c9-f1afa0f9c6ac.png)

(1) テスト対象サイトのURL: お伝えしてあるIPアドレスを含めたURLを入力します。ポートが80以外であれば、ポート番号もご指定ください。
(2) テストスクリプトのタイトル: 「VPN接続テスト」と入力します。
(3) テストスクリプト: 次の内容を入力します。

<pre>
```
URLが「/」であること
```
</pre>

(4) 以上の入力ができたら、「WindowsのChrome」を選択します。
(5) 「テストを実行する」を押します。

しばらくするとテスト結果が表示されます。テスト結果の「スクリーンショット」をご覧いただき、テスト対象サイトにアクセスできているかをご確認ください。スクリーンショットにテスト対象サイトが写っていれば、問題なくテスト対象サイトにアクセスできていることになります。


## 接続できない場合

ShouldBeeからの接続がうまく確認できない場合は、以下をご確認ください。

* HTTPサーバが起動しているか？
* HTTPサーバのポート番号が正しいか？
* ファイアウォールでIPアドレス制限がかかっていないか？
